<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title></title>
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
	<style type="text/css">
		.prop {
			position: absolute;
			height: 100px;
			width: 100px;

		}
		.prop1 {
			position: absolute;
			height: 100px;
			width: 100px;
			margin-top: 200px;
		}
		.krot {
			position: absolute;
			height: 100px;
			width: 50px;
		}
		.krot1 {
			position: absolute;
			height: 100px;
			width: 50px;
			margin-top: 150px;
		}
	</style>
</head>
<body>
<div class="bg-success prop nora" style="top: 100px; left: 500px"></div>
<!-- дивы норы чтобы появится -->
<div class="bg-warning prop nora" style="top: 100px; left: 500px"></div>
<div class="bg-warning prop nora" style="top: 100px; left: 700px"></div>
<div class="bg-warning prop nora" style="top: 100px; left: 900px"></div>
<div class="bg-warning prop1 nora" style="top: 100px; left: 500px"></div>
<div class="bg-warning prop1 nora" style="top: 100px; left: 700px"></div>
<div class="bg-warning prop1 nora" style="top: 100px; left: 900px"></div>
<div>Scores <span class="scr">0</span></div> 
<div>Time <span class="time">20</span></div>




<script type="text/javascript">
let nora = document.querySelector('.nora')

let box = document.createElement('div')
document.body.appendChild(box)
box.classList.add('krot')
nora.before(box)
box.style.background = 'green'
box.style.top = '100px'
box.style.left = '500px' 

let randomize = function(arg) {
        let s = Math.random() * arg
        let r = Math.round(s)
        return r    
    }

let lf = [500, 700, 900]
let tp = [100, 300]
let names = ['good', 'bad']
let scores = 0
let scr = document.querySelector('.scr')
let createKr = function() {
	let box = document.createElement('div')
	document.body.appendChild(box)
	box.classList.add('krot')
	nora.before(box)
	box.style.transition = '1s'
	box.style.top = tp[randomize(1)] + 'px'
	box.style.left = lf[randomize(2)] + 'px'
	box.name = names[randomize(1)] 

	if(box.name == 'good') {
		box.style.background = 'green'
    } else {
		box.style.background = 'red'
	}

	let showKr = function() {
		if(box.style.top == '100px') { 
			box.style.top = '50px'
		} else {
			box.style.top = '250px'
		} 
	}

	setTimeout(showKr, 1000)

	let hideKr = function() {
		if(box.style.top == '50px') { 
			box.style.top = '100px'
		} else {
			box.style.top = '300px'
		}
	}

	setTimeout(hideKr, 2000)
	box.onclick = function() {
		if(box.name == 'good') {
			scores += 1
			scr.innerHTML = scores
			box.style.display = 'none'
		} else {
			scores -= 1
			scr.innerHTML = scores
			box.style.display = 'none'
		}
	}
}
timec = document.querySelector('.time')
let time_c = 20
let tm = function() {
	time_c -= 1
	timec.innerHTML = time_c
	if(time_c == 0) {
	clearInterval(intm)
	}
}

intm = setInterval(tm, 1000)

let int = setInterval(createKr, 1000)
let stopGame = function() {
	clearInterval(int)
	if(scores >= 10) {
			alert('You win!')
		} else {
			alert('You lose.')
		} 
}

setTimeout(stopGame, 20000)

</script>
</body>
</html>